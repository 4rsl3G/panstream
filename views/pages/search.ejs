<div class="max-w-7xl mx-auto px-4 sm:px-6 pt-10 pb-16">
  <div class="tracking-[0.45em] uppercase text-xs opacity-60" data-aos="fade-right">Search</div>
  <h1 class="mt-3 text-2xl md:text-4xl font-semibold" data-aos="fade-up">Find your drama</h1>

  <form class="pan-searchBar mt-8" method="GET" action="/search" data-aos="fade-up" data-aos-delay="80">
    <i class="ri-search-2-line"></i>
    <input name="q" value="<%= q %>" placeholder="Ketik judul drama..." autocomplete="off" />
    <button class="pan-btn pan-btnPrimary" type="submit">Search</button>
  </form>

  <% if (!q) { %>
    <div class="mt-10">
      <div class="tracking-[0.35em] uppercase text-xs opacity-70">Popular Search</div>
      <div class="pan-chipRow mt-5">
        <% popular.forEach(p => { %>
          <a class="pan-chip pan-chipLink" href="/search?q=<%= encodeURIComponent(p) %>"><%= p %></a>
        <% }) %>
      </div>
    </div>
  <% } %>

  <% if (q) { %>
    <div class="mt-12 pan-grid">
      <% (items || []).forEach((d, i) => { %>
        <a href="/detail/<%= d.bookId %>" class="pan-gridCard" data-aos="zoom-in" data-aos-delay="<%= Math.min(240, i*10) %>">
          <div class="pan-gridPoster">
            <img loading="lazy" src="/img?u=<%= encodeURIComponent(d.cover || '') %>" alt="<%= d.bookName %>"/>
            <div class="pan-gridShade"></div>
          </div>
          <div class="pan-gridMeta">
            <div class="pan-gridTitle"><%= d.bookName %></div>
            <div class="pan-gridSub"><%= d.playCount || "" %></div>
          </div>
        </a>
      <% }) %>
    </div>

    <% if (!items.length) { %>
      <div class="pan-empty mt-16" data-aos="fade-up">
        <div class="pan-emptyTitle">Tidak ada hasil</div>
        <div class="pan-emptySub">Coba kata kunci lain.</div>
      </div>
    <% } %>
  <% } %>
</div>
